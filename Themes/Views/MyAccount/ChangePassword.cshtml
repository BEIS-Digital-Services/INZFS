@model INZFS.Theme.ViewModels.ChangePasswordViewModel
@{
    ViewLayout = "LayoutRegistration";
}

<partial name="_ErrorModelSummary" />

<main class="govuk-main-wrapper " id="main-content" role="main">
    <form method="post">
        <div class="govuk-grid-row">
            <div class="govuk-grid-column-two-thirds">
                <h1 class="govuk-heading-xl">Change your password</h1>
                <div class="govuk-form-group govuk-!-margin-bottom-2" asp-validation-error-class-for="OldPassword">
                    <span asp-validation-for="OldPassword" class="govuk-error-message"></span>
                    <label class="govuk-label" for="password">
                        Enter your current password
                    </label>
                    <div class="show-password__input-wrapper govuk-!-margin-bottom-6">
                        <input class="govuk-input govuk-input--width-20" id="password-current" asp-for="OldPassword" type="password" spellcheck="false">
                        <button class="show-password__toggle" aria-controls="password-current" type="button" aria-label="Show password" id="buttonText" onclick="currentPassword()">Show</button>
                        <span class="govuk-visually-hidden" aria-live="polite">Your password is hidden</span>
                    </div>

                </div>
                <div class="govuk-form-group govuk-!-margin-bottom-2" asp-validation-error-class-for="NewPassword">
                    <span asp-validation-for="NewPassword" class="govuk-error-message"></span>
                    <label class="govuk-label" for="password">
                        New password
                    </label>
                    <div id="create-password-hint" class="govuk-hint">
                        Your password must:
                        <ul class="govuk-list govuk-list--bullet">
                            <li>be at least 8 characters</li>
                            <li>be a mixture of upper and lower case</li>
                            <li>not include commonly used passwords</li>
                            <li>include at least 1 digit</li>
                        </ul>
                    </div>
                    <div class="show-password__input-wrapper govuk-!-margin-bottom-6">
                        <input class="govuk-input govuk-input--width-20" id="password-create" asp-for="NewPassword" type="password" aria-describedby="create-password-hint" spellcheck="false">
                        <button class="show-password__toggle" aria-controls="password-create" type="button" aria-label="Show password" id="buttonText1" onclick="createPassword()">Show</button>
                        <span class="govuk-visually-hidden" aria-live="polite">Your password is hidden</span>
                    </div>
                </div>
                <div class="govuk-form-group govuk-!-margin-bottom-6" asp-validation-error-class-for="ConfirmPassword">
                    <span asp-validation-for="ConfirmPassword" class="govuk-error-message"></span>
                    <label for="create-password" class="govuk-label"> Confirm new password</label>
                    <div class="show-password__input-wrapper">
                        <input class="govuk-input govuk-input--width-20" id="password-confirm" asp-for="ConfirmPassword" type="password" spellcheck="false">
                        <button class="show-password__toggle" aria-controls="password-confirm" type="button" aria-label="Show password" id="buttonText2" onclick="confirmPassword()">Show</button>
                        <span class="govuk-visually-hidden" aria-live="polite">Your password is hidden</span>
                    </div>
                </div>
            </div>
        </div>
        <button class="govuk-button" data-module="govuk-button">Change password</button>
    </form>
</main>

<script type="text/javascript">


    function currentPassword() {
        var x = document.getElementById("password-current");
        if (x.type === "password") {
            x.type = "text";
            document.getElementById("buttonText").innerHTML = "Hide";
        } else {
            x.type = "password";
            document.getElementById("buttonText").innerHTML = "Show";
        }
    }

    function createPassword() {
        var x = document.getElementById("password-create");
        if (x.type === "password") {
            x.type = "text";
            document.getElementById("buttonText1").innerHTML = "Hide";
        } else {
            x.type = "password";
            document.getElementById("buttonText1").innerHTML = "Show";
        }
    }

    function confirmPassword() {
        var x = document.getElementById("password-confirm");
        if (x.type === "password") {
            x.type = "text";
            document.getElementById("buttonText2").innerHTML = "Hide";
        } else {
            x.type = "password";
            document.getElementById("buttonText2").innerHTML = "Show";
        }
    }

</script>